import{X as _}from"./index.jjE2ZryC.js";import{d as i}from"./chunk-QVXXXVDB.C3q9ZzEV.js";import{y as F,x as S}from"./theme.DqzFMAGb.js";import{d as w,r as u,b as x,w as h,ah as T,o as C,c as D,Q as a,I as s,a as I,M as n,O as R,u as d,aF as V}from"./framework.SULaAIX3.js";const k={class:"play"},z=w({__name:"use-form-table",setup(N){const r=u([]),m={isSearch:!0,labelWidth:"90px",inlineSearch:!1,filterEmpty:!0,items:[{type:"input",label:"框架名称",defaultValue:"哈哈哈哈",prop:"name"},{type:"input",label:"框架名称",prop:"test2"},{type:"input",label:"技术组",prop:"render"},{type:"input",label:"技术组1",prop:"test"},{type:"input",label:"技术组2",prop:"test1"}]},c=()=>{r.value.length=0;for(let e=0;e<20;e++)r.value.push({id:e+1,date:_(i.date.anytime(),"yyyy-MM-dd HH:mm"),name:i.person.fullName(),address:i.location.streetAddress()})},b=()=>new Promise(e=>{setTimeout(()=>{c(),e({list:r.value,total:r.value.length})},3e3)}),{registry:y,getTableInstance:p,getFormSchemaInstance:f}=F({api:b,immediate:!0,formSchema:m,responseHandler:e=>e,tableSchema:{pagination:!0,rowKey:"id",columns:[{type:"selection"},{label:"名称",prop:"name"},{label:"日期",prop:"date"},{label:"地址",prop:"address"}]}}),l=u(!1),g=x(()=>{var e,t;return!((t=(e=p())==null?void 0:e.getSelectedRows())!=null&&t.length)}),v=async()=>{const e=await f().getFieldsValues(!0,!0);console.log(e)};return h(()=>l.value,()=>{p().toggleRowSelection(1,l.value)}),(e,t)=>{const o=T("el-button");return C(),D("div",k,[a(d(S),{onRegistry:d(y)},{toolbar:s(()=>[I("div",null,[a(o,{onClick:t[0]||(t[0]=A=>l.value=!l.value)},{default:s(()=>[n(R(l.value?"取消首项选中":"设置首项选中"),1)]),_:1}),a(o,{size:"small",type:"primary",icon:"Plus"},{default:s(()=>t[1]||(t[1]=[n("新增")])),_:1}),a(o,{size:"small",type:"success",icon:"FolderAdd"},{default:s(()=>t[2]||(t[2]=[n("导入")])),_:1}),a(o,{size:"small",type:"success",icon:"FolderAdd",onClick:v},{default:s(()=>t[3]||(t[3]=[n("获取表单")])),_:1}),a(o,{disabled:g.value,size:"small",type:"danger",icon:"Delete"},{default:s(()=>t[4]||(t[4]=[n("删除")])),_:1},8,["disabled"])])]),_:1},8,["onRegistry"])])}}}),P=V(z,[["__scopeId","data-v-08ab7be5"]]);export{P as default};
