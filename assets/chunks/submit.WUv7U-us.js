import{f as v,h as s}from"./theme.DqzFMAGb.js";import{i as I}from"./emoji.Cx1VpAIv.js";import{d as h,r as l,ah as _,o as b,c as k,Q as c,I as C,M as g,O as x,u as D}from"./framework.SULaAIX3.js";const w=h({__name:"submit",setup(N){const r=l(),o=l(!1),i={total:99,list:[{commentName:"张无忌",avatarUrl:"https://s3.bmp.ovh/imgs/2024/05/02/f298a3b692dca2ba.jpg",userId:1,commentId:99,createDate:"2023-10-02",like:!0,likeCount:1,text:"你玩过最好玩的游戏是什么呢？",subComment:{total:2,list:[{commentName:"赵敏",avatarUrl:"https://s3.bmp.ovh/imgs/2024/05/02/f298a3b692dca2ba.jpg",userId:2,parentId:99,commentId:100,likeCount:99,createDate:"2023-12-02",text:"也许换个环境能激发一些新想法。"},{commentName:"展昭",avatarUrl:"https://s3.bmp.ovh/imgs/2024/05/02/f298a3b692dca2ba.jpg",userId:3,parentId:99,commentId:101,likeCount:0,createDate:"2024-05-02",text:"张大侠，这光明顶上数百号人的性命就全在你一念之间！"}]}},{commentName:"王林",avatarUrl:"https://tse1-mm.cn.bing.net/th/id/OIP-C.cb2tZuoVupOeB2xofO630wHaEK?rs=1&pid=ImgDetMain",userId:6,text:"婉儿，来~",commentId:666,createDate:"2024-05-02",subComment:{total:2,list:[{commentName:"李慕婉",avatarUrl:"https://puui.qpic.cn/vpic_cover/l3535rml86l/l3535rml86l_1704079822_hz.jpg/496",userId:7,parentId:666,commentId:667,likeCount:0,createDate:"2024-07-06",text:"去哪？"},{commentName:"许立国",avatarUrl:"https://puui.qpic.cn/vpic_cover/w3533s42ici/w3533s42ici_1702637681_hz.jpg/496",userId:8,parentId:666,commentId:668,createDate:"2024-06-05",likeCount:0,text:"等日后老子有一天修为高了，一定要让这煞星好看，大不了老子拼了……拼……"}]}}]},u=n=>{const{resolve:t,clear:e,value:a,item:f}=n;setTimeout(()=>{t({commentName:"李慕婉",avatarUrl:"https://puui.qpic.cn/vpic_cover/l3535rml86l/l3535rml86l_1704079822_hz.jpg/496",userId:7,parentId:666,commentId:666,createDate:new Date,text:a,reply:f}),e(!0)},500)},p=n=>{if(!m())return;const{likeDone:t,isLike:e,item:a}=n;setTimeout(()=>{t(!e),r.value.updateLikeCount(a,e?a.likeCount-1:a.likeCount+1),s.success(e?"取消点赞":"点赞")},500)},d={commentFields:{content:"text",username:"commentName",avatar:"avatarUrl",userId:"userId"},subStyle:{background:"var(--el-fill-color-light)"},sortType:"desc",emojis:I()},m=()=>o.value?!0:(s.error("请登录"),!1);return(n,t)=>{const e=_("el-button");return b(),k("div",null,[c(e,{onClick:t[0]||(t[0]=a=>o.value=!o.value)},{default:C(()=>[g(x(o.value?"注销":"登录"),1)]),_:1}),c(D(v),{ref_key:"commentRef",ref:r,"before-reply":m,data:i,config:d,onConfirmReply:u,onClickLike:p},null,512)])}}});export{w as default};
