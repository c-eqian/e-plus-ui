import{i as N,j as S}from"../app.390b7fa1.js";import{h as y,l as c,O as I,z,d as B,C as f,o as M,b as P,w as s,k as g,H as o,a as i,az as m}from"./framework.330b59dd.js";import"./theme.18bfc3c8.js";const R=()=>{const r=y(null),p=y(!1),a=async()=>{const t=c(r);return t?(await I(),t):(console.warn("获取表单示例失败~~"),null)};return{registry:async t=>{z(()=>{r.value=null}),!(c(r)===t&&c(p))&&(r.value=t,p.value=!0)},...{validate:async(...t)=>{const e=await a();return e==null?void 0:e.validate(...t)},validateField:async(...t)=>{const e=await a();return e==null?void 0:e.validateField(...t)},resetFields:async(...t)=>{const e=await a();return e==null?void 0:e.resetFields(...t)},clearValidate:async(...t)=>{const e=await a();return e==null?void 0:e.clearValidate(...t)},scrollIntoView:async(...t)=>{const e=await a();return e==null?void 0:e.scrollIntoView(...t)},setFieldsValues:async t=>{const e=await a();return e==null?void 0:e.setFieldsValues(t)},getFieldsValues:(t=!0)=>{const e=c(r);return e==null?void 0:e.getFieldsValues(t)},appendFields:async(t,e)=>{const d=await a();return d==null?void 0:d.appendFields(t,e)},deleteField:async t=>{const e=await a();return e==null?void 0:e.deleteField(t)}},getFormInstance:a}},T={class:"cz-py-4"},$={class:"cz-py-4"},U=B({__name:"useFormSchema",setup(r){const p=y({name:"哈哈哈哈",cascade:"",render:"",test:""}),{registry:a,getFieldsValues:b,validate:_,setFieldsValues:t,appendFields:e,deleteField:d}=R(),h=()=>{t({test:"新增"})},w=()=>{d("cascade")},v=u=>{e({prop:"test",label:"新增",type:"input",rules:!0},u)},V=async()=>{await _(),console.log("获取表单值",b())},k=N({labelPosition:"right",columns:1,items:[{type:"input",label:"输入框",prop:"name",rules:!0,componentProps:{clearable:!0,slots:{prepend:()=>[m("div","https://")],append:()=>[m("div","https://")],prefix:()=>[m("div","https://")]}}},{type:"input",label:"自定义渲染",prop:"render",render:({model:u,item:l})=>m(S,{modelValue:u.value[l.prop],"onUpdate:modelValue":n=>{u.value[l.prop]=n}})},{type:"cascade",label:"级联",rules:!0,prop:"cascade",componentProps:{clearable:!0,options:[{value:"guide",label:"Guide",children:[{value:"disciplines",label:"Disciplines",children:[{value:"consistency",label:"Consistency"},{value:"feedback",label:"Feedback"},{value:"efficiency",label:"Efficiency"},{value:"controllability",label:"Controllability"}]},{value:"navigation",label:"Navigation",children:[{value:"side nav",label:"Side Navigation"},{value:"top nav",label:"Top Navigation"}]}]}]}}]});return(u,l)=>{const n=f("el-button"),C=f("ep-form-schema"),x=f("ep-card");return M(),P(x,{title:"表单"},{default:s(()=>[g("div",T,[g("div",$,[o(n,{onClick:V},{default:s(()=>[i("获取")]),_:1}),o(n,{onClick:h},{default:s(()=>[i("设置值")]),_:1}),o(n,{onClick:l[0]||(l[0]=F=>v(!0))},{default:s(()=>[i("添加表单")]),_:1}),o(n,{onClick:l[1]||(l[1]=F=>v(!1))},{default:s(()=>[i("添加表单到第一个位置")]),_:1}),o(n,{onClick:l[2]||(l[2]=F=>v("name"))},{default:s(()=>[i("添加表单到name之后位置")]),_:1}),o(n,{onClick:w},{default:s(()=>[i("删除cascade项")]),_:1})]),o(C,{onRegistry:c(a),config:c(k),model:p.value},null,8,["onRegistry","config","model"])])]),_:1})}}});export{U as default};
